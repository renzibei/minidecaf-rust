# Step 9

## 实验内容

Step 9增加了对函数定义和函数调用的支持，调用函数的返回值为int

为了满足函数的语义检查，需要有函数的符号表，记录函数的名称与参数

在定义时，需要检查是否重复定义。

在调用时，需要检查参数个数是否对应，函数是否有定义。

## 思考题

MiniDecaf 的函数调用时参数求值的顺序是未定义行为。试写出一段 MiniDecaf 代码，使得不同的参数求值顺序会导致不同的返回结果



观察下面的代码

```c
int fun(int x, int y) {
	return x * y;
}

int main() {
	int x = 2;
  int y = 5;
	int ret = fun(x = y + 1, y = x + 1);
  return ret;
}
```

如果从左到右求值，第一个参数值为 y+1 = 6，且x赋值为6；再求第二个参数，x+1=7，且y赋值为7；则函数的参数为6和7，return值为6*7=42

如果从右到左求值，第二个参数值为x+1=3，且y赋值为3；再求第一个参数，y+1=4，且x赋值为4；则函数的参数为4和3，return值为4*3=12

则可以看出，参数值求值过程中修改了其他参数依赖值时，会对求值顺序敏感。