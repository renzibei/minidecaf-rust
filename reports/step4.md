# Step4 Report

## 实验内容

step4增加了比较大小与相等的二元运算符 `<, <=, >=, >, ==, !=`与逻辑运算符`&&, ||`;

我们实现的时候没有实现短路求值的特性，主要是在step3的基础上修改了一下词法分析规则和AST节点类型，主要是step3的重复劳动。

## 思考题

1. 在表达式计算时，对于某一步运算，是否一定要先计算出所有的操作数的结果才能进行运算？



​	不一定，例如&& 与 || 的短路性质， `0 && expr2`与`1 || expr3`都不需要计算第二个表达式的值就可以确定整个表达式的值。



2. 在 MiniDecaf 中，我们对于短路求值未做要求，但在包括 C 语言的大多数流行的语言中，短路求值都是被支持的。为何这一特性广受欢迎？你认为短路求值这一特性会给程序员带来怎样的好处？



短路求值的一个显而易见的优点是可以简化运算量，当某些条件不满足时就不继续计算其他条件，而当其他条件的计算代价很高时，短路求值能够节省大量时间，或者说在节省运行时间的写法中节省代码量。

另外有一些脚本语言可以用短路运算实现更多的写法，例如会短路的逻辑运算符的第二表达式可以是在某些情况下引发错误的表达式（如类型错误），而当短路时，不会进行第二表达式的类型检查。